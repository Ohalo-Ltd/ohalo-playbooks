{
  "name": "dxr-file-metadata-daily",
  "schedule": {
    "quartz_cron_expression": "0 0 2 * * ?",
    "timezone_id": "UTC",
    "pause_status": "UNPAUSED"
  },
  "max_concurrent_runs": 1,
  "tasks": [
    {
      "task_key": "dxr_file_metadata_snapshot",
      "python_task": {
        "python_file": "/Repos/REPLACE_WITH_REPO_OWNER/query-data-xray-data-in-databricks/scripts/run_daily_snapshot.py",
        "parameters": [
          "--base-url",
          "https://demo.dataxray.io",
          "--bearer-token",
          "{{secrets/dxr/bearer-token}}",
          "--delta-path",
          "dbfs:/mnt/dxr/datasets/file_metadata",
          "--delta-table",
          "governance.dxr_file_metadata"
        ],
        "source": "WORKSPACE"
      },
      "compute_key": "378778894328346",
      "timeout_seconds": 7200,
      "max_retries": 1,
      "min_retry_interval_millis": 300000,
      "retry_on_timeout": true
    }
  ]
}
