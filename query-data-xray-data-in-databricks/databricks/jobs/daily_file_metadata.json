{
  "name": "dxr-file-metadata-daily",
  "schedule": {
    "quartz_cron_expression": "0 0 2 * * ?",
    "timezone_id": "UTC",
    "pause_status": "UNPAUSED"
  },
  "max_concurrent_runs": 1,
  "tasks": [
    {
      "task_key": "dxr_file_metadata_snapshot",
      "spark_python_task": {
        "python_file": "/Repos/REPLACE_WITH_REPO_OWNER/query-data-xray-data-in-databricks/scripts/run_daily_snapshot.py",
        "parameters": [
          "--DXR_BASE_URL",
          "https://demo.dataxray.io",
          "--DXR_TOKEN_SCOPE",
          "dxr",
          "--DXR_TOKEN_KEY",
          "dxr-bearer-token",
          "--DXR_DELTA_PATH",
          "dbfs:/Volumes/workspace/dxr-data/dxr-data-volume/datasets/file_metadata",
          "--DXR_DELTA_TABLE",
          "workspace.dxr_data.file_metadata"
        ],
        "source": "WORKSPACE"
      },
      "compute_key": "378778894328346",
      "timeout_seconds": 7200,
      "max_retries": 1,
      "min_retry_interval_millis": 300000,
      "retry_on_timeout": true
    }
  ]
}
